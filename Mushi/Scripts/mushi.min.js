function RemovePlayerFromGrid(n){var t=GetRowByPlayerId("gv"+n.TypeName+"Players",n);t!=null&&t.remove()}function UpdatePlayer(n){var t=GetRowByPlayerId("gv"+n.TypeName+"Players",n),r,i,u,f;t!=null&&(n.PlayerType==1?(r=t.find('input[type="submit"].btnAccept'),n.Status==2?r.show():r.hide()):(i=t.find('input[type="submit"].btnCreate'),u=t.find('input[type="submit"].btnPay'),n.Status==1?(MoveRow(t,0),i.removeAttr("disabled"),i.val("Invite")):(i.val("Offline"),i.attr("disabled","disabled")),n.Status>1?i.hide():i.show(),n.Status==3?u.show():u.hide(),t.find("td.lblPrice").text("$"+n.Price)),f=t.find('input[type="submit"].btnAbort'),n.Status>1?f.show():f.hide())}function CreateOrder(n){$.ajax({url:"../Handlers/CreateOrderHandler.ashx?PlayerId="+n,contentType:"application/json; charset=utf-8",success:CreateOrderResponse,error:OnFail,cache:!1})}function AbortOrder(n){$.ajax({url:"../Handlers/AbortOrderHandler.ashx?PlayerId="+n,contentType:"application/json; charset=utf-8",success:AbortOrderResponse,error:OnFail,cache:!1})}function AcceptOrder(n){$.ajax({url:"../Handlers/AcceptOrderHandler.ashx?PlayerId="+n,contentType:"application/json; charset=utf-8",success:AcceptOrderResponse,error:OnFail,cache:!1})}function PayOrder(n){$.ajax({url:"../Handlers/PayPalHandler.ashx?PlayerId="+n,contentType:"application/json; charset=utf-8",success:PayPalResponse,error:OnFail,cache:!1})}function PayPalResponse(n){var t=$.parseJSON(n),i,r;t!=null&&(i=t.ResultType,r=t.Parameter,i==="success"?window.location.replace(r):alert("Order doesnt exist!"))}function CreateOrderResponse(n){var i=$.parseJSON(n),r,t;if(i!=null)if(r=i.ResultType,t=$.parseJSON(i.Parameter),r==="success")UpdatePlayer(t),MoveRow(GetRowByPlayerId("gv"+t.TypeName+"Players",t),1);else switch(t.Status){case 0:alert("Player is offline!");break;case 2:alert("Order already exists!")}}function AbortOrderResponse(n){var i=$.parseJSON(n),r,t;i!=null&&(r=i.ResultType,t=$.parseJSON(i.Parameter),r==="success"?t.PlayerType==2?UpdatePlayer(t):RemovePlayerFromGrid(t):alert("Order doesnt exist!"))}function AcceptOrderResponse(n){var t=$.parseJSON(n),i,r;t!=null&&(i=t.ResultType,r=$.parseJSON(t.Parameter),i==="success"&&UpdatePlayer(r))}function PayOrderResponse(n){var t=$.parseJSON(n),i,r;t!=null&&(i=t.ResultType,r=$.parseJSON(t.Parameter),i==="success"&&window.location.replace("../Handlers/PostPaymentHandler.ashx?PlayerId="+r.PlayerId))}function WaitForOrderResponse(){}function OnFail(){alert("Request failed")}function Digitonly(){var n=event.keyCode;return n>=48&&n<=57||n>=96&&n<=105||n==8||n==110||n==46||n==37||n==39||n==188||n==190?!0:!1}function ShowOrdersPopUp(n){return n?$("#pnlProOrders").show():$("#pnlProOrders").hide(),!1}function ShowPanel(n,t){return t?$("#"+n).show():$("#"+n).hide(),!1}function AuctionSchedulerRowClick(n,t){var i=$(t).next().innerHTML;alert(i)}function AuctionSuccess(n){$("#lblAuctionConfirmationText").html("Confrim auction on time "+n+"h");$("#hfGvAuctionScheudlerSelectedRow").val(n);ShowPanel("pnlConfirmAuction",!0)}function MoveRow(n,t){var i=n.parent()[0];n.insertBefore(i.rows[t])}function GetRowByPlayerId(n,t){var i=null;return t!=null&&t.PlayerId!=""&&n!=null&&$("#"+n+" tr").each(function(){var n=$(this),r=n.find('input[type="hidden"]').val();r===t.PlayerId&&(i=n)}),i}function PlayerInfo(n,t){var i=window.innerWidth>0?window.innerWidth:screen.width;i>1200?window.open(n):confirm(t)&&window.open(n)}$(function(){var n=$.connection.mushiHub;n.client.updatePlayer=function(n){UpdatePlayer($.parseJSON(n))};n.client.updatePlayerOrders=function(t,i){n.server.ack(i);var r=$.parseJSON(t);r!=null&&(GetRowByPlayerId("gvAmateurPlayers",r)==null&&$("#gvAmateurPlayers").append("<tr><td><img src="+r.AvatarUrl+"><\/td><td>"+r.NickName+"<\/td><td>"+r.TeamName+"<\/td><td class='lblStatus'>"+r.StatusName+"<\/td><td><input type='submit' class='btnAccept' value='Accept' onclick='AcceptOrder(\""+r.PlayerId+"\"); return false;'<\/input><input type='submit' class='btnAbort' value='Abort' onclick='AbortOrder(\""+r.PlayerId+"\"); return false;'<\/input><input type='hidden' value=\""+r.PlayerId+'"<\/input><\/td><\/tr>'),MoveRow(GetRowByPlayerId("gvAmateurPlayers",r),1))};n.client.abortOrder=function(t,i){n.server.ack(i);var r=$.parseJSON(t);r!=null&&(r.PlayerType==2?UpdatePlayer(r):RemovePlayerFromGrid(r))};n.client.acceptOrder=function(t,i){n.server.ack(i);var r=$.parseJSON(t);r!=null&&UpdatePlayer(r)};n.client.removeOrders=function(t,i){n.server.ack(i);var r=$.parseJSON(t);r!=null&&r.length>0&&$("#gvAmateurPlayers tr").each(function(){var n=$(this),t=n.find('input[type="hidden"]').val();$.inArray(t,r)>-1&&n.remove()})};n.client.orderComplete=function(t,i){n.server.ack(i);var r=$.parseJSON(t);r!=null&&UpdatePlayer(r)};$.connection.hub.start()});
/*
//# sourceMappingURL=mushi.min.js.map
*/